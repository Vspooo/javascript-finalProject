<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>


    let url = new URL(location.href)
    let id = url.searchParams.get('id')


    fetch(`https://jsonplaceholder.typicode.com/users/${id}`)
    .then(data=> data.json())
    .then(info =>{
      let div = document.createElement('div')
        document.body.appendChild(div)

         function recursion(item){
             for (const itemElement in item) {
                 if (typeof item[itemElement] !=='object'){
                     let p = document.createElement('p')
                     p.append(`${itemElement} - ${item[itemElement]}`)
                     div.appendChild(p)
                 }else {
                     recursion(item[itemElement])
                 }
             }
         }
       recursion(info)

    })

    let btn = document.createElement("button")
    btn.innerText = 'post of current user'
    document.body.appendChild(btn)

   btn.onclick = function (){
       fetch(`https://jsonplaceholder.typicode.com/users/${id}/posts`)
           .then(resp => resp.json())
           .then(coments =>{
               for (const coment of coments) {
                   let div = document.createElement('div')
                   div.innerText = `ID-${coment.id}, comment : ${coment.title}`
                   let btnPosts = document.createElement('button')
                   btnPosts.innerText = 'click'
                   btnPosts.onclick = function (){
                       location.href = `post-details.html?id=${coment.id}`
                   }
                   div.append(btnPosts)
                   document.body.appendChild(div)
               }
           })
   }


fetch(`https://jsonplaceholder.typicode.com/users/${id}/posts`)
.then(res=> res.json())
.then(dat =>{
    for (const datElement of dat) {
        let divPost = document.createElement('div')
        document.appe

    }
})

    // let btnofPost = document.createElement('button')
    // btnofPost.innerText = 'click'
    // btnofPost.onclick = function (){
    //     location.href = `post-details.html?id=${user.id}`
    // }
    // document.body.appendChild(btnofPost)







</script>
</body>
</html>